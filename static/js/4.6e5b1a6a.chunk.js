(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[4],{127:function(e,t,n){"use strict";n.r(t);var a=n(31),i=n(0),r=n.n(i),c=n(133),o=n(130),d=n(6);var s,l=function(e){var t=e.message;return Object(d.jsxs)(c.a,{sx:{width:200,height:200,border:"1px solid #f00",borderRadius:"0.5rem",position:"absolute",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"0.5rem 1rem"},children:[Object(d.jsx)("p",{style:{wordWrap:"break-word",width:"100%",textAlign:"center"},children:t}),Object(d.jsx)(o.a,{sx:{width:"80px",marginTop:"1rem"},variant:"outlined",color:"error",onClick:function(){return window.location.reload()},children:"Refresh"})]})},h=n(131),u=n(132),f=n(129),j=n(128),p=n(45),b=n(23),m=n(47),x=m.a.div(s||(s=Object(b.a)(["\n  position: relative;\n  width: 100%;\n  margin: 0 auto;\n\n  @media (min-width: 769px) {\n    width: 80%;\n  }\n  @media (min-width: 971px) {\n    width: 70%;\n  }\n"])));var g=function(e){var t=e.value,n=e.handleChange,a=e.handleRefetch,i=Object(p.b)((function(e){return e.screen.mobile_view}));return Object(d.jsx)(x,{"data-testid":"temp-control",children:Object(d.jsxs)(h.a,{component:"fieldset",sx:{width:"100%"},children:[Object(d.jsxs)(u.a,{sx:{width:"100%",display:"flex",justifyContent:i?"space-between":"center"},row:!0,"aria-label":"temp",name:"row-radio-buttons-group",value:t,onChange:n,children:[Object(d.jsx)(f.a,{value:"0",control:Object(d.jsx)(j.a,{}),label:"Celsius"}),Object(d.jsx)(f.a,{value:"1",control:Object(d.jsx)(j.a,{}),label:"Fahrenheit",sx:{margin:0}})]}),!i&&Object(d.jsx)(o.a,{sx:{position:"absolute",right:"0",textTransform:"capitalize",backgroundColor:"#ffffff",border:"1px solid #0055ff",color:"#0055ff",width:"80px"},onClick:a,children:"Refresh"})]})})},O=n(73),w=n(113),v=n.n(w),y=n(112),_=n.n(y);var C,k,S=function(e){var t=e.handleLeft,n=e.handleRight,a=e.handleRefetch,i=e.pageIndex,r=e.maxPage,c=Object(p.b)((function(e){return e.screen.mobile_view}));return Object(d.jsxs)(O.a,{sx:{position:"absolute",top:c?"":"175px",minWidth:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:"0",paddingRight:"0",margin:"0"},children:[Object(d.jsx)(_.a,{sx:{fontSize:36.5,opacity:1===i?"0.1":"1"},onClick:t}),c&&Object(d.jsx)(o.a,{sx:{textTransform:"capitalize",backgroundColor:"#ffffff",border:"1px solid #0055ff",color:"#0055ff",width:"80px"},onClick:a,children:"Refresh"}),Object(d.jsx)(v.a,{sx:{fontSize:36.5,opacity:i===r?"0.1":"1"},onClick:n})]})},R=n(46),D=m.a.div(C||(C=Object(b.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),F=m.a.div(k||(k=Object(b.a)(["\n  width: 40px;\n  height: 40px;\n"])));var I=function(e){var t=e.id,n=e.temp,a=e.weather_name,i=e.weather_description,r=e.current_date,o=e.tempUnit,s=e.selectedDay,l=e.handleSelectDay;return Object(d.jsxs)(c.a,{"data-testid":"single-box",id:t,sx:{width:120,height:120,margin:"0 auto",padding:"1rem 2rem",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",border:s===t?"2px solid #0055ff":"1px solid #0055ff",borderRadius:"0.5rem",cursor:"pointer",backgroundColor:s===t?"#d9e7ff":"",color:"#000000"},onClick:l,children:[Object(d.jsx)("p",{children:"Temperature"}),Object(d.jsxs)(D,{children:[Object(d.jsxs)("p",{children:[Object(R.a)(o,n).toFixed(2)," ","0"===o?"C":"F"]}),Object(d.jsx)(F,{children:Object(d.jsx)("img",{src:Object(R.b)(a,i),alt:"weather-icon",width:"100%"})})]}),Object(d.jsx)("p",{children:r})]})},P=n(104),E=n(114);P.e.register(P.d,P.h,P.b,P.m,P.n);var A,T,z,J=function(e){for(var t=e.input,n=e.tempUnit,a=t[0].current_date,i=[],c=[],o=0;o<t.length;o++){var s=t[o],l=s.temp,h=s.hour.toString();i.push(Object(R.a)(n,l).toFixed(2)),c.push(R.d[h])}var u={maintainAspectRatio:!1,responsive:!0,scales:{x:{grid:{color:"#4eeb9c",tickColor:"#0055ff"},ticks:{color:"#0055ff"}},y:{grid:{color:"#4eeb9c",tickColor:"#0055ff"},ticks:{color:"#0055ff"}}},plugins:{title:{display:!0,text:"Chart for ".concat(a," in ").concat("0"===n?"C":"F"),color:"#0055ff"}}},f={labels:c,datasets:[{data:i,backgroundColor:"rgba(255, 99, 132, 0.5)"}]};return Object(d.jsx)(r.a.Fragment,{children:Object(d.jsx)(E.a,{options:u,data:f,height:280})})},L=n(36),U=n(48),M=m.a.div(A||(A=Object(b.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  gap: '8px';\n  align-items: center;\n  margin: 3rem auto;\n\n  @media (min-width: 769px) {\n    width: 80%;\n  }\n  @media (min-width: 971px) {\n    width: 70%;\n  }\n"]))),N=m.a.div(T||(T=Object(b.a)(["\n  height: 300px;\n  width: 90%;\n  margin: 0 auto;\n\n  @media (min-width: 769px) {\n    width: 60%;\n  }\n  @media (min-width: 971px) {\n    width: 40%;\n  }\n"]))),W=m.a.div(z||(z=Object(b.a)(["\n  position: relative;\n  margin: 0 1rem;\n\n  @media (min-width: 769px) {\n    margin: 0 3rem;\n  }\n\n  @media (min-width: 1025px) {\n    margin: 0 10rem;\n  }\n"])));t.default=function(){var e="05ef4f751c33a79728695c6582a3340a",t="lat=6.537216&lon=3.3718272&APPID=".concat(e,"&cnt=").concat(40),n=Object(p.b)((function(e){return e.screen.mobile_view})),c=Object(i.useState)(t),o=Object(a.a)(c,2),s=o[0],h=o[1],u=Object(i.useState)(""),f=Object(a.a)(u,2),j=f[0],b=f[1],m=Object(i.useState)("0"),x=Object(a.a)(m,2),O=x[0],w=x[1],v=Object(i.useState)(null),y=Object(a.a)(v,2),_=y[0],C=y[1],k=Object(i.useState)([]),D=Object(a.a)(k,2),F=D[0],P=D[1],E=Object(i.useState)([]),A=Object(a.a)(E,2),T=A[0],z=A[1],q=Object(i.useState)([]),H=Object(a.a)(q,2),Y=H[0],B=H[1],G=Object(i.useState)(3),K=Object(a.a)(G,2),Q=K[0],V=K[1],X=Object(i.useState)(1),Z=Object(a.a)(X,2),$=Z[0],ee=Z[1],te=Object(i.useState)(""),ne=Object(a.a)(te,2),ae=ne[0],ie=ne[1];navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var n=t.coords,a=n.latitude,i=n.longitude,r="lat=".concat(a,"&lon=").concat(i,"&APPID=").concat(e,"&cnt=").concat(40);h(r)}));var re=Object(L.b)(s),ce=re.data,oe=re.isFetching,de=re.isError,se=re.refetch,le=re.error;Object(i.useEffect)((function(){if(!oe&&!de){var e={},t=[];ce.list.forEach((function(n){var a=n.main,i=n.weather,r=n.wind,c=n.dt_txt,o=new Date(c),d="".concat(o.getDate()," ").concat(R.c[o.getMonth()],". ").concat(o.getFullYear()),s={temp:a.temp-273,humidity:a.humidity,wind_speed:r.speed,weather_description:i[0].description,weather_name:i[0].main,hour:o.getHours(),current_date:d};e.hasOwnProperty(d)?e[d].push(s):(t.push(d),e[d]=[s])}));var n=t.map((function(t){var n=e[t],a=n.reduce((function(e,t){return e+t.temp}),0),i=n.reduce((function(e,t){return e+t.humidity}),0),r=n.reduce((function(e,t){return e+t.wind_speed}),0);return{temp:a/n.length,humidity:i/n.length,wind_speed:r/n.length,weather_description:n[0].weather_description,weather_name:n[0].weather_name,hour:n[0].hour,current_date:n[0].current_date}}));P(n),C(e)}}),[ce,de,oe]),Object(i.useEffect)((function(){le&&(JSON.parse(JSON.stringify(le)).data?b("Invalid query string supplied. Check the API key and try again"):b("Oops! Network Error. Check your network and try again."))}),[le]),Object(i.useEffect)((function(){V(n?1:3)}),[n]),Object(i.useEffect)((function(){ae.length>0&&_&&B(_[ae])}),[ae,_]),Object(i.useEffect)((function(){var e,t=F.slice(Q*($-1),Q*$);z(t),(null===(e=t[0])||void 0===e?void 0:e.current_date)&&ie(t[0].current_date)}),[$,Q,F]);var he=function(e){e.preventDefault(),ie(e.currentTarget.id)},ue=function(){se()};return Object(d.jsx)(r.a.Fragment,{children:oe?Object(d.jsx)(U.a,{}):de?Object(d.jsx)(l,{message:j}):Object(d.jsxs)(W,{children:[Object(d.jsx)("h1",{children:"Weather Forecast of your Location"}),Object(d.jsx)(g,{value:O,handleChange:function(e){e.preventDefault(),w(e.target.value)},handleRefetch:ue}),Object(d.jsx)(S,{handleLeft:function(){$>1&&ee($-1)},handleRight:function(){$<Math.floor(F.length/Q)&&ee($+1)},handleRefetch:ue,pageIndex:$,maxPage:Math.floor(F.length/Q)}),Object(d.jsx)(M,{children:T.map((function(e){return Object(d.jsx)(I,{id:e.current_date,temp:e.temp,weather_name:e.weather_name,weather_description:e.weather_description,current_date:e.current_date,tempUnit:O,selectedDay:ae,handleSelectDay:he},e.current_date)}))}),Object(d.jsx)(N,{children:Y.length>0&&Object(d.jsx)(J,{input:Y,tempUnit:O})})]})})}}}]);
//# sourceMappingURL=4.6e5b1a6a.chunk.js.map